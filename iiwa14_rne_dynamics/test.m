clc;
clear;
q = [-0.01092188  0.13073385 -0.07987667 -0.59534735 -0.15278933  0.14207389 -0.11236912];
qd = [-0.02047852  0.24512597 -0.14976876 -1.11627628 -0.28648     0.26638854 -0.2106921 ];
qdd = [0.00000000e+00  2.22044605e-16  0.00000000e+00  0.00000000e+00  2.22044605e-16 -2.22044605e-16 -1.11022302e-16];

torque = rnea_torque_iiwa14(q, qd, qdd);

ref = [-2.81582065e-01 -1.14723116e+00 -2.05489101e-01 -1.40010520e-02 -4.95018881e-04  1.69619927e-02  2.07026577e-05];
diff = torque - ref;
max_abs = max(abs(diff))
